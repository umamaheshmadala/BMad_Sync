# Story 2.1: Business Storefront Creation & Content Management

**Status:** Approved

## Story Statement
As a business owner,
I want to create and manage my in-app digital storefront,
so that I can showcase my business and offerings to users.

## Acceptance Criteria
- Business owner can access a storefront creation/management interface.
- Business can input/update branding information (e.g., description, contact details).
- Business can set their online/offline (Open/Close) status.
- Business can select from platform-provided storefront themes (seasonal, festival).
- Business can customize promotional banners on their storefront.
- Changes made by the business owner are reflected instantly on the storefront.
- Storefronts table is updated with description, theme, and other relevant branding content.
- Local Testability: API endpoint POST /api/business/storefront creates a storefront and returns 201 Created. Verification via Postman with GET /api/business/storefront and confirming data.

## Dev Notes
### Previous Story Insights
- Business authentication and profile management are in place. [Source: docs/stories/1.4.story.md, docs/stories/1.5.story.md]

### Data Models
- Storefronts table: storefront_id, business_id, description, theme, branding content, open/close status, promotional banners. [Source: PRD]
- Form fields: description, contact details, theme selection, open/close status, promotional banners. [Source: PRD]

### API Specifications
- POST /api/business/storefront: Creates a new storefront. [Source: PRD]
- GET /api/business/storefront: Retrieves storefront data. [Source: PRD]
- All API interactions must go through frontend API service layer (`apps/web/src/api/`). [Source: architecture/coding-standards.md]

### Component Specifications
- Storefront management interface: Form for branding info, theme selection, open/close status, banner upload. [Source: PRD]
- Storefront display: Shows updated branding, theme, banners, and status. [Source: PRD]

### File Locations
- Frontend pages: `apps/web/src/pages/business-storefront.tsx`, `apps/web/src/pages/edit-business-storefront.tsx`
- API service: `apps/web/src/api/storefront.ts`
- Backend: `apps/api/src/business/` (serverless functions for storefront management)
[Source: architecture/unified-project-structure.md]

### Testing Requirements
- Frontend: Unit and integration tests for storefront management interface. [Source: architecture/testing-strategy.md]
- Backend: Unit and integration tests for storefront endpoints. [Source: architecture/testing-strategy.md]
- E2E: Playwright/Cypress tests for storefront creation and management. [Source: architecture/testing-strategy.md]

### Technical Constraints
- Use Supabase Storage for promotional banner upload. [Source: architecture/tech-stack.md]
- TypeScript for all codebases. [Source: architecture/tech-stack.md]
- Follow coding standards for API service layer, error handling, and naming conventions. [Source: architecture/coding-standards.md]
- State management for storefront via React Context API/Zustand/Jotai. [Source: architecture/tech-stack.md]

## Tasks / Subtasks
1. Create storefront management interface for business owners. [Source: PRD]
2. Implement form fields for branding info, theme selection, open/close status, and banner upload. [Source: PRD]
3. Integrate Supabase Storage for promotional banner upload. [Source: architecture/tech-stack.md]
4. Implement backend endpoints for storefront creation and management. [Source: PRD]
5. Store and retrieve storefront data from Supabase database. [Source: PRD]
6. Display storefront with updated branding, theme, banners, and status. [Source: PRD]
7. Add validation and error handling for storefront form. [Source: architecture/coding-standards.md]
8. Write unit/integration tests for frontend storefront management interface. [Source: architecture/testing-strategy.md]
9. Write unit/integration tests for backend storefront endpoints. [Source: architecture/testing-strategy.md]
10. Write E2E tests for storefront creation and management. [Source: architecture/testing-strategy.md]
11. Verify all file locations and naming conventions match unified project structure. [Source: architecture/unified-project-structure.md]

## Project Structure Notes
- All files should be placed according to the unified project structure. [Source: architecture/unified-project-structure.md]
- No conflicts found between epic requirements and unified project structure.

---

Checklist: To be completed after draft review.
- [ ] All acceptance criteria addressed
- [ ] All technical context referenced
- [ ] Tasks/subtasks are actionable and referenced
- [ ] Project structure alignment verified
- [ ] Ready for developer implementation 